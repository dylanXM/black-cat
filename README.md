<h1 align="center">Welcome to black-cat app ğŸ‘‹</h1>

è¯¥é¡¹ç›®ä¸ºReact Native çš„å­¦ä¹ é¡¹ç›®ï¼Œå‰ç«¯æ˜¯ä½¿ç”¨ [Expo](https://expo.dev) åˆ›å»ºçš„é¡¹ç›® [`create-expo-app`](https://www.npmjs.com/package/create-expo-app)ã€‚è€Œåç«¯ï¼ˆåœ¨ `service` ç›®å½•ä¸‹ï¼‰ä½¿ç”¨äº† [Nest](https://nestjs.com/) æ¡†æ¶æ„å»ºã€‚

é¡¹ç›®ä»“åº“ï¼šhttps://github.com/dylanXM/black-cat

## æŠ€æœ¯æ ˆ

å‰ç«¯ï¼š`React Native` + `Redux` + `Typescript` + `RxJS` + `react-query`
- `React 18.2` + `React Native`: ä½¿ç”¨ React è¯­æ³•å’Œç»„ä»¶æ¥åˆ›å»ºè·¨å¹³å°çš„ iOS å’Œ Android åº”ç”¨ç¨‹åº
- `Redux`ï¼šçŠ¶æ€ç®¡ç†ï¼Œè¯¥é¡¹ç›®ä¸­ä¸»è¦å­˜å‚¨äº†ç™»å½•çŠ¶æ€ + ç™»å½•ç”¨æˆ·ä¿¡æ¯ + æœç´¢æ¡ä»¶ + æ´»åŠ¨è¯¦æƒ…é¡µä¿¡æ¯
- `Typescript`ï¼šç±»å‹å®šä¹‰ + ç±»å‹æ£€æŸ¥
- `rxjs`ï¼šç”¨äºå¤„ç†å¤æ‚çš„å¼‚æ­¥é€»è¾‘ + å‘å¸ƒ/è®¢é˜…æ¨¡å¼
- `react-query`: é…åˆ `axios`ï¼Œç”¨äºç®¡ç†å’Œç¼“å­˜å¼‚æ­¥æ•°æ®

åç«¯ï¼š`Nest` + `Typescript`
- `Nest`ï¼šæ„å»ºé«˜æ•ˆã€å¯æ‰©å±•çš„Node.js æœåŠ¡å™¨ç«¯åº”ç”¨ç¨‹åºï¼ŒåŸºäº `Express` æ¡†æ¶
- `Typescript`ï¼šç±»å‹å®šä¹‰ + ç±»å‹æ£€æŸ¥

## Feature
- ç”¨æˆ·ç™»å½•ï¼Œåœ¨ `service/sr/data/user.ts` ç›®å½•ä¸­å­˜å‚¨äº†è¯¥é¡¹ç›®ç”¨æˆ·çš„è™šæ‹Ÿæ•°æ®
- ä½¿ç”¨ `Jwt` ç”Ÿæˆç™»å½• `token` å¹¶å­˜å‚¨åˆ°äº† `Redis` ä¸­ï¼Œç”¨æˆ·ç™»å½•åçš„æ¯æ¬¡æ¥å£è®¿é—®éƒ½éœ€éªŒè¯ `token`
- æŸ¥çœ‹æ´»åŠ¨åˆ—è¡¨/è¯¦æƒ…ï¼Œç”¨åˆ°çš„æ•°æ®åœ¨ `servie/src/data/twitter/ts` æ–‡ä»¶ä¸­
- æ´»åŠ¨åˆ—è¡¨æœç´¢/æŸ¥çœ‹ï¼Œæ´»åŠ¨è¯¦æƒ…æŸ¥çœ‹
- æ´»åŠ¨åˆ—è¡¨æ»šåŠ¨åŠ è½½æ›´å¤š + ç‚¹å‡»å›¾æ ‡è¿”å›æœ€é¡¶å±‚ + ä¸‹æ‹‰åˆ·æ–°åˆ—è¡¨
- æ´»åŠ¨æ“ä½œï¼šLike + Going + Comment
- ç”¨æˆ·ä¸ªäººä¿¡æ¯æŸ¥çœ‹
- æ”¯æŒç»„ä»¶æµ‹è¯•è„šæœ¬ï¼šåœ¨ `./test` ç›®å½•ä¸‹
- æ”¯æŒ `Husky` hooksï¼šåœ¨ `.husky` ç›®å½•ä¸‹ï¼Œç›®å‰æ”¯æŒ `pre-commit` hook
- æ”¯æŒ `GitHub CI`ï¼šåœ¨ `.github/workflows` ç›®å½•ä¸‹ï¼Œç›®å‰æ”¯æŒåˆå…¥ `main` åˆ†æ”¯çš„ `lint` æ ¡éªŒ

## æ¼”ç¤º

### ios
[IOSæ¼”ç¤ºè§†é¢‘](https://sfile.chatglm.cn/chatglm4/8bf599dd-1e01-44be-8cf3-f03f37808bd4.gif)

### android
[å®‰å“æ¼”ç¤ºè§†é¢‘](https://sfile.chatglm.cn/chatglm4/6abbaf77-108c-4fcf-9645-2a27d0733679.gif)

## å¼€å§‹

1. æ‹‰å–é¡¹ç›®

```bash
git clone git@github.com:dylanXM/black-cat.git
```

2. å®‰è£…ä¾èµ–

```bash
yarn install
```

3. å¯åŠ¨é¡¹ç›®

```bash
// å¼€å¯å®‰å“
yarn android

// å¼€å¯ ios
yarn ios
```

4. æœåŠ¡ç«¯é¡¹ç›®åœ¨ service ç›®å½•ä¸‹

4.1 æš—è½¬ä¾èµ–

```bash
yarn install
```

4.2 å¼€å¯é¡¹ç›®

```bash
yarn dev
```

## æ›´æ–°æ—¥å¿—

- ğŸš€ 09.17 æ–°å¢è‡ªå®šä¹‰ `Toast` + æ›´æ–°æ¼”ç¤ºè§†é¢‘ + `GitHub CI`
- ğŸš€ 09.16 å‘ä¸‹æ»‘åŠ¨åŠ è½½æ›´å¤š + ä¸‹æ‹‰åˆ·æ–° + `eslint` + `pre-commit` + ç¼–å†™ `react-test-renderer` ç»„ä»¶æµ‹è¯•è„šæœ¬
- ğŸš€ 09.15 ç”¨æˆ·è¯¦æƒ…é¡µé¢å®ç° + `activity` åˆ—è¡¨å’Œè¯¦æƒ…é¡µé¢å®ç° + æ„é€  `activity` æ•°æ®
- ğŸš€ 09.14 drawer + æœç´¢åŠŸèƒ½å®ç° + æ„é€ ç™»å½•ç”¨æˆ·æ•°æ®
- ğŸš€ 09.13 åˆå§‹åŒ–é¡¹ç›® + å¢åŠ é¡¹ç›®è·¯ç”± + ç™»å½•é¡µé¢å®ç°

## è¸©çš„ä¸€äº›å‘

### æ— æ³•å¯åŠ¨é¡¹ç›®

è§£å†³æ–¹æ¡ˆï¼šè°ƒå¤§ `--max-old-space-size` ç¯å¢ƒå˜é‡çš„å€¼ï¼Œç›´æ¥å†™åœ¨äº† `package.json` å¯åŠ¨è„šæœ¬ä¸­

```json
{
   "ios": "export NODE_OPTIONS=--max-old-space-size=8192 && expo start --android --reset-cache"
}
```

### å¯åŠ¨ Expo é¡¹ç›®æ— æ³•è‡ªåŠ¨è¿æ¥åˆ°iosè™šæ‹Ÿæœº

åŸå› æ˜¯iosé»˜è®¤è™šæ‹Ÿæœºçš„idä¸æœ¬æœºè™šæ‹Ÿæœºçš„idä¸ä¸€è‡´ï¼Œè™½ç„¶æ˜¯åŒä¸€ä¸ªç‰ˆæœ¬ï¼Œè¯¥é—®é¢˜***æš‚æœªè§£å†³***

è§£å†³æ–¹æ¡ˆï¼š

 - ä½¿ç”¨ android è¿›è¡Œå¼€å‘è°ƒè¯•
 - åœ¨ ios è™šæ‹Ÿæœºä¸Šå®‰è£… Expo æ‰‹åŠ¨è¾“å…¥é“¾æ¥è¿›è¡Œ connect


### svg å¤„ç†

1. å…¨å±€å®‰è£…`@svgr/cli`

```
npm i @svgr/cli -g
```

2. åœ¨`./assets/svgs`ç›®å½•ä¸‹æ–°å¢ svg æ–‡ä»¶

3. å°† svg æ–‡ä»¶æ‰¹é‡è½¬æ¢ä¸º React ç»„ä»¶ï¼Œåœ¨å‘½ä»¤è¡Œæ‰§è¡Œä»¥ä¸‹æ–‡ä»¶

```bash
// npx @svgr/cli --native -d è¾“å‡ºç›®å½• è¾“å…¥ç›®å½•
npx @svgr/cli --native -d ./components/svgs ./assets/svgs
```

4. ä¿®æ”¹ svg ç»„ä»¶çš„é¢œè‰², å¯ä»¥æŒ‰ç…§ä¸‹åˆ—æ–¹å¼

```js
import LogoCat from '@/components/svgs/LogoCat';

<LogoCat style={[styles.logoCat, { fill: '#fff' }]} />

// æˆ–è€…
<LogoCat style={styles.logoCat} fill="fff" />

```

### ios è™šæ‹Ÿæœºåœ¨æ‰“å¼€å«æœ‰react-native-tab-viewç»„ä»¶çš„é¡µé¢æ—¶ç¨‹åºä¼šå´©æºƒ

è§£å†³æ–¹æ¡ˆï¼šä¸‹è½½ `7.0.0-rc.0` ç‰ˆæœ¬çš„ `react-native-pager-view`

```bash
yarn add react-native-pager-view@7.0.0-rc.0
```

### æ—¥å†ç»„ä»¶åœ¨ioså’Œandroidä¸Šçš„é»˜è®¤è¡¨ç°å½¢å¼ä¸ä¸€æ ·

è§£å†³æ–¹æ¡ˆï¼š

1. åˆ¤æ–­å½“å‰ç¯å¢ƒ
2. æ ¹æ®ç¯å¢ƒçš„ä¸åŒåšä¸åŒçš„å®ç°

